Описание методов
================

Имя метода передается как значение ключа type внутри JSON-объекта.
Передача имени метода происходит как при запросе, так и при ответе.


.. _get_update:

get_update
----------

Позволяет получить от сервера обновление информации за период (сообщений, чатов, пользовательских данных):

.. list-table:: Пример запроса
    :widths: 15 15 15 55
    :header-rows: 1

    * - Ключ
      - Тип
      - Обязательный
      - Описание
    * - type
      - str
      - Yes
      - Уникальное имя запроса: get_update
    * - data
      - :ref:`data`
      - Yes
      - Объект данных.
    * - jsonapi
      - dict
      - Yes
      - Версия протокола.
    * - meta
      - Any
      - No
      - Зарезервированное поле.


.. list-table:: Пример ответа
    :widths: 15 15 15 55
    :header-rows: 1

    * - Ключ
      - Тип
      - Обязательный
      - Описание
    * - type
      - str
      - Yes
      - Уникальное имя запроса: get_update
    * - data
      - :ref:`data`
      - Yes
      - Объект данных в виде массива типа dict.
    * - errors
      - :ref:`errors`
      - Yes
      - Объект данных в виде массива типа dict. Результат выполнения запроса.
    * - jsonapi
      - bool
      - Yes
      - Версия протокола
    * - meta
      - str
      - No
      - Зарезервированное поле.


.. _send_message:

send_message
------------

Метод позволяет отправить сообщение другому клиенту.

.. list-table:: Пример запроса
    :widths: 15 15 15 55
    :header-rows: 1

    * - Ключ
      - Тип
      - Обязательный
      - Описание
    * - type
      - :ref:`type`
      - Yes
      - Уникальное имя запроса: send_message.
    * - data
      - :ref:`data`
      - Yes
      - Объект данных в виде массива типа dict.
    * - jsonapi
      - dict
      - Yes
      - Версия АПИ протокола
    * - meta
      - Any
      - No
      - Зарезервированное поле


.. list-table:: Пример ответа
    :widths: 15 15 15 55
    :header-rows: 1

    * - Ключ
      - Тип
      - Обязательный
      - Описание
    * - type
      - :ref:`type`
      - Yes
      - Уникальное имя запроса: send_message.
    * - data
      - :ref:`data`
      - Yes
      - Объект данных в виде массива типа dict.
    * - errors
      - dict
      - Yes
      - Результат выполнения запроса
    * - jsonapi
      - dict
      - Yes
      - Версия АПИ протокола
    * - meta
      - Any
      - No
      - Зарезервированное поле

.. _all_messages:

all_messages
------------

Метод позволяет получить все сообщения за произвольный период.

.. list-table:: Поля JSON-объекта при отправке клиентом запроса на сервер
    :widths: 15 15 15 55
    :header-rows: 1

    * - Ключ
      - Тип
      - Обязательный
      - Описание
    * - type
      - dict
      - Yes
      - Уникальное имя запроса: all_messages
    * - data
      - dict
      - Yes
      - Объект данных
    * - jsonapi
      - dict
      - Yes
      - Версия АПИ протокола
    * - meta
      - Any
      - No
      - Зарезервированное поле


.. list-table:: Поля JSON-объекта содержащиеся в ответе сервера
    :widths: 15 15 15 55
    :header-rows: 1

    * - Ключ
      - Тип
      - Обязательный
      - Описание
    * - type
      - dict
      - Yes
      - Уникальное имя запроса: all_messages
    * - data
      - dict
      - Yes
      - Объект данных
    * - errors
      - dict
      - Yes
      - Результат выполнения запроса
    * - jsonapi
      - dict
      - Yes
      - Версия АПИ протокола
    * - meta
      - Any
      - No
      - Зарезервированное поле

.. _all_chat:

all_chat
--------

Метод позволяет получить от сервера перечень и нформацию обо всех чатах.
Под чатами подразумеваются чаты, группы, каналы.

.. list-table:: Поля JSON-объекта при запросе клиентом данных у сервера
    :widths: 15 15 15 55
    :header-rows: 1

    * - Ключ
      - Тип
      - Обязательный
      - Описание
    * - type
      - dict
      - Yes
      - Уникальное имя запроса: all_chat
    * - data
      - dict
      - Yes
      - Объект данных
    * - jsonapi
      - dict
      - Yes
      - Версия АПИ протокола
    * - meta
      - Any
      - No
      - Зарезервированное поле


.. list-table:: Поля JSON-объекта содержащиеся в ответе
    :widths: 15 15 15 55
    :header-rows: 1

    * - Ключ
      - Тип
      - Обязательный
      - Описание
    * - type
      - dict
      - Yes
      - Уникальное имя запроса: all_chat
    * - data
      - dict
      - Yes
      - Объект данных
    * - errors
      - dict
      - Yes
      - Результат выполнения запроса
    * - jsonapi
      - dict
      - Yes
      - Версия АПИ протокола
    * - meta
      - Any
      - No
      - Зарезервированное поле

.. _user_info:

user_info
---------

Метод позволяет получить от сервера информацию о настройках пользователя:

.. list-table:: Поля JSON-объекта при запросе клиентом данных у сервера
    :widths: 15 15 15 55
    :header-rows: 1

    * - Ключ
      - Тип
      - Обязательный
      - Описание
    * - type
      - dict
      - Yes
      - Уникальное имя запроса: user_info
    * - data
      - dict
      - Yes
      - Объект данных
    * - jsonapi
      - dict
      - Yes
      - Версия АПИ протокола
    * - meta
      - Any
      - No
      - Зарезервированное поле


.. list-table:: Поля JSON-объекта содержащиеся в ответе
    :widths: 15 15 15 55
    :header-rows: 1

    * - Ключ
      - Тип
      - Обязательный
      - Описание
    * - type
      - dict
      - Yes
      - Уникальное имя запроса: user_info
    * - data
      - dict
      - Yes
      - Объект данных
    * - errors
      - dict
      - Yes
      - Результат выполнения запроса
    * - jsonapi
      - dict
      - Yes
      - Версия АПИ протокола
    * - meta
      - Any
      - No
      - Зарезервированное поле

.. _register_user:

register_user
-------------

Метод позволяет зарегистрировать нового пользователя.

.. list-table:: Поля JSON-объекта при запросе регистрации нового пользователя на сервере
    :widths: 15 15 15 55
    :header-rows: 1

    * - Ключ
      - Тип
      - Обязательный
      - Описание
    * - type
      - dict
      - Yes
      - Уникальное имя запроса: user_info
    * - data
      - dict
      - Yes
      - Объект данных
    * - jsonapi
      - dict
      - Yes
      - Версия АПИ протокола
    * - meta
      - Any
      - No
      - Зарезервированное поле


.. list-table:: Поля JSON-объекта содержащиеся в ответе
    :widths: 15 15 15 55
    :header-rows: 1

    * - Ключ
      - Тип
      - Обязательный
      - Описание
    * - type
      - dict
      - Yes
      - Уникальное имя запроса: user_info
    * - data
      - dict
      - Yes
      - Объект данных
    * - errors
      - dict
      - Yes
      - Результат выполнения запроса
    * - jsonapi
      - dict
      - Yes
      - Версия АПИ протокола
    * - meta
      - Any
      - No
      - Зарезервированное поле

.. _authentication:

authentication
--------------

Метод позволяет клиенту пройти аутентификацию на сервере.

.. list-table:: Поля JSON-объекта для прохождения аутентификации клиента
    :widths: 15 15 15 55
    :header-rows: 1

    * - Ключ
      - Тип
      - Обязательный
      - Описание
    * - type
      - dict
      - Yes
      - Уникальное имя запроса: authentication
    * - data
      - dict
      - Yes
      - Объект данных
    * - jsonapi
      - dict
      - Yes
      - Версия АПИ протокола
    * - meta
      - Any
      - No
      - Зарезервированное поле


.. list-table:: Поля JSON-объекта содержащиеся в ответе
    :widths: 15 15 15 55
    :header-rows: 1

    * - Ключ
      - Тип
      - Обязательный
      - Описание
    * - type
      - dict
      - Yes
      - Уникальное имя запроса: authentication
    * - data
      - dict
      - Yes
      - Объект данных
    * - errors
      - dict
      - Yes
      - Результат выполнения запроса
    * - jsonapi
      - dict
      - Yes
      - Версия АПИ протокола
    * - meta
      - Any
      - No
      - Зарезервированное поле